================================================================================
                        FARMFRIEND API DOCUMENTATION
                        For Postman Testing
================================================================================

Base URL: http://localhost:8000

================================================================================
                            1. USER APIs
================================================================================

--------------------------------------------------------------------------------
1.1 LOGIN USER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/login/
Method: POST
Content-Type: application/json

Request Body:
{
    "username": "john_doe",
    "password": "your_password123"
}

Expected Response (Success - 200):
{
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "id": 1,
    "username": "john_doe",
    "is_admin": false,
    "is_farmer": true,
    "is_storage_owner": false,
    "is_rent_owner": false,
    "is_agronomist": false,
    "role_count": 1
}

--------------------------------------------------------------------------------
1.2 CREATE USER (Register)
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/
Method: POST
Content-Type: application/json

Request Body:
{
    "username": "new_user",
    "password": "secure_password123",
    "email": "user@example.com",
    "name": "John Doe",
    "is_farmer": true,
    "is_storage_owner": false,
    "is_rent_owner": false,
    "is_agronomist": false
}

--------------------------------------------------------------------------------
1.3 GET ALL USERS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/
Method: GET

Optional Query Parameters:
- search: Filter by username or email
  Example: http://localhost:8000/api/users/user-info/?search=john

--------------------------------------------------------------------------------
1.4 GET USER BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/{id}/
Method: GET
Example: http://localhost:8000/api/users/user-info/1/

--------------------------------------------------------------------------------
1.5 UPDATE USER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/{id}/
Method: PUT
Content-Type: application/json
Example: http://localhost:8000/api/users/user-info/1/

Request Body:
{
    "username": "updated_username",
    "password": "new_password123",
    "email": "newemail@example.com",
    "is_farmer": true,
    "is_rent_owner": true
}

--------------------------------------------------------------------------------
1.6 PARTIAL UPDATE USER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/{id}/
Method: PATCH
Content-Type: application/json

Request Body (only fields to update):
{
    "email": "updated@example.com"
}

--------------------------------------------------------------------------------
1.7 DELETE USER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-info/{id}/
Method: DELETE
Example: http://localhost:8000/api/users/user-info/1/

--------------------------------------------------------------------------------
1.8 GET USER SESSIONS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/users/user-sessions/
Method: GET

================================================================================
                            2. FARMER APIs
================================================================================

--------------------------------------------------------------------------------
2.1 CREATE FARMER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/
Method: POST
Content-Type: application/json

Request Body:
{
    "user": 1,
    "name": "Farmer John",
    "dob": "1985-05-15",
    "address": "123 Farm Road, Village Name",
    "contact": "+8801712345678",
    "field_size": 5.5,
    "average_rating": 0.0
}

--------------------------------------------------------------------------------
2.2 GET ALL FARMERS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/
Method: GET

--------------------------------------------------------------------------------
2.3 GET FARMER BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/{id}/
Method: GET
Example: http://localhost:8000/api/farmers/farmers/1/

--------------------------------------------------------------------------------
2.4 UPDATE FARMER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "user": 1,
    "name": "Updated Farmer Name",
    "dob": "1985-05-15",
    "address": "456 New Farm Road",
    "contact": "+8801712345678",
    "field_size": 10.0,
    "average_rating": 4.5
}

--------------------------------------------------------------------------------
2.5 PARTIAL UPDATE FARMER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/{id}/
Method: PATCH
Content-Type: application/json

Request Body:
{
    "field_size": 7.5
}

--------------------------------------------------------------------------------
2.6 DELETE FARMER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmers/{id}/
Method: DELETE

================================================================================
                        3. FARMER GIGS APIs
================================================================================

--------------------------------------------------------------------------------
3.1 CREATE FARMER GIG
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmer-gigs/
Method: POST
Content-Type: application/json

Request Body:
{
    "farmer": 1,
    "title": "Fresh Organic Rice",
    "description": "High quality organic rice from our farm. Pesticide-free and naturally grown.",
    "price": 1500.00,
    "quantity": 100
}

Note: For image upload, use form-data instead of JSON:
- farmer: 1
- title: Fresh Organic Rice
- description: High quality organic rice
- price: 1500.00
- quantity: 100
- image: [Select File]

--------------------------------------------------------------------------------
3.2 GET ALL FARMER GIGS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmer-gigs/
Method: GET

--------------------------------------------------------------------------------
3.3 GET FARMER GIG BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmer-gigs/{id}/
Method: GET

--------------------------------------------------------------------------------
3.4 UPDATE FARMER GIG
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmer-gigs/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "farmer": 1,
    "title": "Updated Rice Title",
    "description": "Updated description",
    "price": 1800.00,
    "quantity": 50
}

--------------------------------------------------------------------------------
3.5 DELETE FARMER GIG
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/farmer-gigs/{id}/
Method: DELETE

================================================================================
                            4. CROPS APIs
================================================================================

--------------------------------------------------------------------------------
4.1 CREATE CROP
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/crops/
Method: POST
Content-Type: multipart/form-data (for image upload)

Form Data:
- farmer: 1
- name: Rice
- image: [Select File] (optional)

Or JSON (without image):
{
    "farmer": 1,
    "name": "Rice"
}

--------------------------------------------------------------------------------
4.2 GET ALL CROPS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/crops/
Method: GET

--------------------------------------------------------------------------------
4.3 GET CROP BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/crops/{id}/
Method: GET

--------------------------------------------------------------------------------
4.4 UPDATE CROP
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/crops/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "farmer": 1,
    "name": "Updated Crop Name"
}

--------------------------------------------------------------------------------
4.5 DELETE CROP
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/farmers/crops/{id}/
Method: DELETE

================================================================================
                        5. RENT OWNER APIs
================================================================================

--------------------------------------------------------------------------------
5.1 CREATE RENT OWNER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-owners/
Method: POST
Content-Type: application/json

Request Body:
{
    "user": 1,
    "name": "Equipment Rental Shop",
    "dob": "1980-01-01",
    "contact": "+8801812345678",
    "address": "456 Rental Street, City"
}

--------------------------------------------------------------------------------
5.2 GET ALL RENT OWNERS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-owners/
Method: GET

--------------------------------------------------------------------------------
5.3 GET RENT OWNER BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-owners/{id}/
Method: GET

--------------------------------------------------------------------------------
5.4 UPDATE RENT OWNER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-owners/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "user": 1,
    "name": "Updated Shop Name",
    "dob": "1980-01-01",
    "contact": "+8801812345678",
    "address": "789 New Address"
}

--------------------------------------------------------------------------------
5.5 DELETE RENT OWNER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-owners/{id}/
Method: DELETE

================================================================================
                        6. RENT ITEMS APIs
================================================================================

--------------------------------------------------------------------------------
6.1 CREATE RENT ITEM
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items/
Method: POST
Content-Type: application/json

Request Body:
{
    "rent_owner": 1,
    "product_name": "Tractor",
    "description": "Heavy duty tractor for farming. Model: John Deere 5050D",
    "price": 5000.00,
    "quantity": 2,
    "is_available": true
}

For image upload use multipart/form-data:
- rent_owner: 1
- product_name: Tractor
- description: Heavy duty tractor
- price: 5000.00
- quantity: 2
- is_available: true
- image: [Select File]

--------------------------------------------------------------------------------
6.2 GET ALL RENT ITEMS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items/
Method: GET

--------------------------------------------------------------------------------
6.3 GET RENT ITEMS WITH USER INFO
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items-with-user/
Method: GET

--------------------------------------------------------------------------------
6.4 GET RENT ITEM BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items/{id}/
Method: GET

--------------------------------------------------------------------------------
6.5 UPDATE RENT ITEM
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "rent_owner": 1,
    "product_name": "Updated Tractor Name",
    "description": "Updated description",
    "price": 5500.00,
    "quantity": 3,
    "is_available": true
}

--------------------------------------------------------------------------------
6.6 DELETE RENT ITEM
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-items/{id}/
Method: DELETE

================================================================================
                    7. RENT ITEM ORDERS APIs
================================================================================

--------------------------------------------------------------------------------
7.1 CREATE RENT ITEM ORDER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/
Method: POST
Content-Type: application/json

Request Body:
{
    "rent_owner": 1,
    "rent_taker": 2,
    "return_date": "2026-01-15",
    "title": "Tractor Rental",
    "description": "Renting tractor for field work",
    "price": 5000.00,
    "is_confirmed": false,
    "is_ready_for_pickup": false
}

--------------------------------------------------------------------------------
7.2 GET ALL RENT ITEM ORDERS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/
Method: GET

--------------------------------------------------------------------------------
7.3 GET RENT ITEM ORDER BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/{id}/
Method: GET

--------------------------------------------------------------------------------
7.4 UPDATE RENT ITEM ORDER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "rent_owner": 1,
    "rent_taker": 2,
    "return_date": "2026-01-20",
    "title": "Tractor Rental Extended",
    "description": "Extended rental period",
    "price": 7500.00,
    "is_confirmed": true,
    "is_ready_for_pickup": true
}

--------------------------------------------------------------------------------
7.5 PARTIAL UPDATE (Confirm Order)
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/{id}/
Method: PATCH
Content-Type: application/json

Request Body:
{
    "is_confirmed": true
}

--------------------------------------------------------------------------------
7.6 DELETE RENT ITEM ORDER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/rentals/rent-item-orders/{id}/
Method: DELETE

================================================================================
                    8. BILLING ADDRESS APIs
================================================================================

--------------------------------------------------------------------------------
8.1 CREATE BILLING ADDRESS
--------------------------------------------------------------------------------
URL: http://localhost:8000/billing/billing-addresses/
Method: POST
Content-Type: application/json

Request Body:
{
    "user": 1,
    "street": "123 Main Street",
    "city": "Dhaka",
    "state": "Dhaka Division",
    "postal_code": "1205",
    "country": "Bangladesh"
}

--------------------------------------------------------------------------------
8.2 GET ALL BILLING ADDRESSES
--------------------------------------------------------------------------------
URL: http://localhost:8000/billing/billing-addresses/
Method: GET

--------------------------------------------------------------------------------
8.3 GET BILLING ADDRESS BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/billing/billing-addresses/{id}/
Method: GET

--------------------------------------------------------------------------------
8.4 UPDATE BILLING ADDRESS
--------------------------------------------------------------------------------
URL: http://localhost:8000/billing/billing-addresses/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "user": 1,
    "street": "456 Updated Street",
    "city": "Chittagong",
    "state": "Chittagong Division",
    "postal_code": "4000",
    "country": "Bangladesh"
}

--------------------------------------------------------------------------------
8.5 DELETE BILLING ADDRESS
--------------------------------------------------------------------------------
URL: http://localhost:8000/billing/billing-addresses/{id}/
Method: DELETE

================================================================================
                        9. PAYMENTS APIs
================================================================================

--------------------------------------------------------------------------------
9.1 CREATE PAYMENT
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/
Method: POST
Content-Type: application/json

Request Body:
{
    "user": 1,
    "amount": 5000.00,
    "payment_method": "Bkash",
    "status": "Pending"
}

Payment Methods Available:
- "Credit Card"
- "Bank Transfer"
- "Bkash"
- "Nagad"
- "Cash"

Status Options:
- "Pending"
- "Completed"
- "Failed"

--------------------------------------------------------------------------------
9.2 GET ALL PAYMENTS
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/
Method: GET

--------------------------------------------------------------------------------
9.3 GET PAYMENT BY ID
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/{id}/
Method: GET

--------------------------------------------------------------------------------
9.4 UPDATE PAYMENT
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/{id}/
Method: PUT
Content-Type: application/json

Request Body:
{
    "user": 1,
    "amount": 5000.00,
    "payment_method": "Bkash",
    "status": "Completed"
}

--------------------------------------------------------------------------------
9.5 PARTIAL UPDATE PAYMENT STATUS
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/{id}/
Method: PATCH
Content-Type: application/json

Request Body:
{
    "status": "Completed"
}

--------------------------------------------------------------------------------
9.6 DELETE PAYMENT
--------------------------------------------------------------------------------
URL: http://localhost:8000/payment/payments/{id}/
Method: DELETE

================================================================================
                        10. WEATHER APIs
================================================================================

--------------------------------------------------------------------------------
10.1 GET WEATHER (Comprehensive)
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/weather/
Method: GET

Query Parameters:
- city: (required) City name

Example: http://localhost:8000/api/weather/?city=Dhaka

--------------------------------------------------------------------------------
10.2 GET CURRENT WEATHER
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/current-weather/
Method: GET

Query Parameters:
- city: (required) City name

Example: http://localhost:8000/api/current-weather/?city=Dhaka

--------------------------------------------------------------------------------
10.3 GET WEATHER FORECAST (5-Day)
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/weather-forecast/
Method: GET

Query Parameters:
- city: (required) City name
- days: (optional) Number of days (1-5, default: 5)

Examples:
- http://localhost:8000/api/weather-forecast/?city=Dhaka
- http://localhost:8000/api/weather-forecast/?city=Dhaka&days=3

--------------------------------------------------------------------------------
10.4 GET HISTORICAL RAINFALL
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/historical-rainfall/
Method: GET

Query Parameters:
- city: (required) City name

Example: http://localhost:8000/api/historical-rainfall/?city=Dhaka

--------------------------------------------------------------------------------
10.5 GET WEATHER WARNINGS
--------------------------------------------------------------------------------
URL: http://localhost:8000/api/weather-warnings/
Method: GET

Query Parameters:
- city: (required) City name

Example: http://localhost:8000/api/weather-warnings/?city=Dhaka

================================================================================
                    ADDITIONAL NOTES
================================================================================

1. SWAGGER DOCUMENTATION:
   - URL: http://localhost:8000/swagger/
   - Interactive API documentation

2. REDOC DOCUMENTATION:
   - URL: http://localhost:8000/redoc/
   - Alternative API documentation

3. ADMIN PANEL:
   - URL: http://localhost:8000/admin/
   - Django admin interface

4. HEADERS FOR ALL REQUESTS:
   - Content-Type: application/json (for JSON requests)
   - Content-Type: multipart/form-data (for file uploads)

5. MEDIA FILES:
   - Profile pictures: /media/profile_pictures/
   - Farmer gig images: /media/farmer_gigs/
   - Crop images: /media/crops/
   - Rent item images: /media/rent_items/

6. TESTING WORKFLOW:
   a. First create a user (POST /api/users/user-info/)
   b. Login with the user (POST /api/users/login/)
   c. Create farmer/rent_owner profile linked to user
   d. Create gigs/items/orders as needed
   e. Create billing address and payments

================================================================================
                    SAMPLE TEST DATA
================================================================================

--- USER REGISTRATION ---
{
    "username": "testfarmer",
    "password": "Test@123",
    "email": "testfarmer@example.com",
    "name": "Test Farmer",
    "is_farmer": true
}

--- LOGIN ---
{
    "username": "testfarmer",
    "password": "Test@123"
}

--- FARMER PROFILE ---
{
    "user": 1,
    "name": "Test Farmer",
    "dob": "1990-05-15",
    "address": "Village ABC, District XYZ",
    "contact": "+8801700000000",
    "field_size": 3.5
}

--- FARMER GIG ---
{
    "farmer": 1,
    "title": "Fresh Vegetables",
    "description": "Organic vegetables fresh from farm",
    "price": 500.00,
    "quantity": 50
}

--- RENT OWNER ---
{
    "user": 2,
    "name": "Farm Equipment Rentals",
    "dob": "1985-08-20",
    "contact": "+8801800000000",
    "address": "Industrial Area, City"
}

--- RENT ITEM ---
{
    "rent_owner": 1,
    "product_name": "Power Tiller",
    "description": "Power tiller for land preparation",
    "price": 2000.00,
    "quantity": 5,
    "is_available": true
}

--- RENT ORDER ---
{
    "rent_owner": 1,
    "rent_taker": 1,
    "return_date": "2026-01-20",
    "title": "Power Tiller Rental",
    "description": "Renting for 1 week",
    "price": 14000.00
}

--- BILLING ADDRESS ---
{
    "user": 1,
    "street": "House 10, Road 5",
    "city": "Dhaka",
    "state": "Dhaka",
    "postal_code": "1205",
    "country": "Bangladesh"
}

--- PAYMENT ---
{
    "user": 1,
    "amount": 14000.00,
    "payment_method": "Bkash",
    "status": "Pending"
}

================================================================================
                        END OF DOCUMENTATION
================================================================================
